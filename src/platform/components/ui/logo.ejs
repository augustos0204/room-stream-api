<%
// Logo Component - Reusable logo partial with different variants
//
// Parameters:
// - size: 'xs' | 'sm' | 'md' | 'lg' | 'xl' (default: 'md')
// - withBackground: boolean (default: false)
// - withShadow: boolean (default: true)
// - className: string (default: '')
// - forceVariant: 'production' | 'development' | null (default: null - auto-detect)

// Default parameters
const logoSize = (typeof size !== 'undefined' ? size : null) || 'md';
const showBackground = (typeof withBackground !== 'undefined' ? withBackground : null) || false;
const showShadow = typeof withShadow !== 'undefined' ? withShadow : true;
const extraClasses = (typeof className !== 'undefined' ? className : null) || '';

// Auto-detect environment or use forced variant
const variant = (typeof forceVariant !== 'undefined' && forceVariant) 
    ? forceVariant 
    : (process.env.NODE_ENV !== 'production' ? 'development' : 'production');
const isDev = variant === 'development';

// Size mappings
const sizeMap = {
    'xs': 'w-8 h-8',    // 32px - topbar
    'sm': 'w-10 h-10',  // 40px - compact areas
    'md': 'w-16 h-16',  // 64px - standard
    'lg': 'w-20 h-20',  // 80px - login page
    'xl': 'w-24 h-24'   // 96px - hero sections
};

const backgroundSizeMap = {
    'xs': 'w-10 h-10',
    'sm': 'w-12 h-12',
    'md': 'w-20 h-20',
    'lg': 'w-24 h-24',
    'xl': 'w-28 h-28'
};

// Colors based on variant
const bgGradient = isDev 
    ? 'from-orange-500 to-amber-500 shadow-orange-500/50' 
    : 'from-purple-500 to-pink-500 shadow-purple-500/50';

const logoClasses = sizeMap[logoSize] || sizeMap['md'];
const backgroundClasses = backgroundSizeMap[logoSize] || backgroundSizeMap['md'];
%>

<% if (showBackground) { %>
<!-- Logo with gradient background -->
<div class="inline-flex items-center justify-center <%= backgroundClasses %> rounded-2xl bg-gradient-to-br <%= bgGradient %> shadow-2xl <%= extraClasses %>">
    <div class="logo-icon relative <%= logoClasses %>">
        <% if (isDev) { %>
            <%- include('./logo-svg-dev') %>
        <% } else { %>
            <%- include('./logo-svg') %>
        <% } %>
    </div>
</div>
<% } else { %>
<!-- Logo without background -->
<div class="<%= showShadow ? 'logo-icon' : '' %> relative <%= logoClasses %> <%= extraClasses %>">
    <% if (isDev) { %>
        <%- include('./logo-svg-dev') %>
    <% } else { %>
        <%- include('./logo-svg') %>
    <% } %>
</div>
<% } %>
